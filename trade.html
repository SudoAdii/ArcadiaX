<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Buy Crypto</title>
  <style>

    /*-----------------------------------*\
  #style.css
\*-----------------------------------*/

/** 
 * copyrights 2022 codewithsadee
 */





/*-----------------------------------*\
  #CUSTOM PROPERTY
\*-----------------------------------*/

:root {

  /**
   * colors
   */
  
  --cadet-blue-crayola: hsl(227, 13%, 73%);
  --maximum-yellow-red: hsl(41, 95%, 61%);
  --medium-sea-green: hsl(142, 43%, 54%);
  --blue-crayola_10: hsla(47, 80%, 71%, 0.05);
  --smocky-black_30: hsla(0, 0%, 6%, 0.3);
  --eerie-black-1: hsl(240, 5%, 8%);
  --eerie-black-2: hsl(228, 9%, 10%);
  --raisin-black: hsl(225, 15%, 16%);
  --blue-crayola: hsl(47, 80%, 71%, 61%);
  --roman-silver: hsl(223, 10%, 52%);
  --presian-red: hsl(0, 64%, 52%);
  --gunmetal_50: hsla(230, 16%, 22%, 0.5);
  --gainsboro: hsl(0, 0%, 85%);
  --cultured: hsl(0, 0%, 93%);
  --white_50: hsla(0, 0%, 100%, 0.5);
  --white_30: hsla(0, 0%, 100%, 0.3);
  --white_10: hsla(0, 0%, 100%, 0.1);
  --black_10: hsla(0, 0%, 0%, 0.1);
  --white: hsl(0, 0%, 100%);

  /**
   * gradient color
   */

  --gradient: linear-gradient(90deg, var(--white_10) 0px 77%, var(--white_50) 92%, transparent);

  /**
   * typography
   */

  --ff-dm-sans: 'DM Sans', sans-serif;

  --fs-1: 3.2rem;
  --fs-2: 3rem;
  --fs-3: 2.4rem;
  --fs-4: 2rem;
  --fs-5: 1.8rem;
  --fs-6: 1.5rem;
  --fs-7: 1.4rem;
  --fs-8: 1.2rem;

  --fw-500: 500;
  --fw-700: 700;

  /**
   * spacing
   */

  --section-padding: 100px;

  /**
   * shadow
   */

  --shadow-1: 0px 4px 8px var(--black_10);
  --shadow-2: 0px 30px 10px -20px var(--smocky-black_30);
  --shadow-3: 0px 15px 10px -20px var(--smocky-black_30);

  /**
   * radius
   */

  --radius-12: 12px;
  --radius-24: 24px;

  /**
   * transition
   */

  --transition-1: 0.25s ease;
  --transition-2: 0.5s ease;
  --transition-3: 1s ease;
  --cubic-out: cubic-bezier(0.33, 0.85, 0.4, 0.96);

}

* {
  box-sizing: border-box;
}

    body {
      margin: 0;
      padding: 0;
      color: #ffffff;
      font-family: "Segoe UI", sans-serif;
      position: relative;
      overflow: hidden;
    }

    /* Background iframe */
    .background-iframe {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -2;
      pointer-events: none; /* Prevents clicks on the iframe */
      filter: blur(10px) brightness(0.8); /* Soft blur effect */
    }

    /* Foreground content */
    .content {
      position: relative;
      z-index: 1;
      padding: 2rem;
    }

    /* Optional overlay to darken */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.4);
      z-index: -1;
    }

body.active { overflow: hidden; }

::-webkit-scrollbar { width: 10px; }

::-webkit-scrollbar-track { background-color: hsl(220, 4%, 5%); }

::-webkit-scrollbar-thumb { background-color: hsl(220, 5%, 20%); }

::-webkit-scrollbar-thumb:hover { background-color: hsl(220, 5%, 30%); }

:focus-visible { outline-offset: 4px; }


@keyframes fadeInBody {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.container {
  max-width: 880px;
  margin: 50px auto;
  background: var(--eerie-black-1);
  border-radius: 16px;
  padding: 36px;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6);
  animation: slideInContainer 0.8s ease-out;
  position: relative;
  overflow: hidden;
}

@keyframes slideInContainer {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

.container::before {
  content: "";
  position: absolute;
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, rgba(239, 216, 123, 0.2), transparent 70%);
  top: -50px;
  right: -50px;
  filter: blur(60px);
  z-index: 0;
}

h2 {
  font-size: 24px;
  margin-bottom: 4px;
  font-weight: 600;
  color: #ffffff;
}

p {
  color: #aaa;
  font-size: 15px;
  margin-bottom: 24px;
}

.section {
  display: flex;
  gap: 20px;
  margin-bottom: 24px;
  flex-wrap: wrap;
  position: relative;
  z-index: 1;
}

.box {
  flex: 1 1 300px;
  background: var(--eerie-black-2);
  border: 1px solid #2b2d36;
  border-radius: 12px;
  padding: 20px;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.box:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 12px 30px rgba(239, 216, 123, 0.15);
}

.label {
  font-size: 14px;
  margin-bottom: 8px;
  color: #ccc;
  font-weight: 500;
  position: relative;
}

.value {
  font-size: 16px;
  color: #fff;
  display: flex;
  align-items: center;
}

.value img {
  width: 32px;
  height: 32px;
  margin-right: 10px;
  transition: transform 0.3s ease;
}

.value img:hover {
  transform: scale(1.2) rotate(5deg);
}

.input-group {
  margin-bottom: 24px;
  position: relative;
  z-index: 1;
}

input, select {
  width: 100%;
  padding: 18px 16px 6px;
  border: 1px solid #2b2d36;
  background: var(--eerie-black-2);
  border-radius: 10px;
  color: #fff;
  font-size: 16px;
  transition: border-color 0.3s, background-color 0.3s;
}

input:focus, select:focus {
  border-color:  #EFD87B;
  background-color: #21232c;
  outline: none;
}

.exchange-summary {
  background: var(--eerie-black-2);
  padding: 39px;
  border-radius: 10px;
  border: 1px solid #2b2d36;
  animation: fadeInSummary 0.8s ease-out;

  /* Centering */
  margin: 40px auto; /* auto centers horizontally */
  max-width: 800px;  /* increase width but still responsive */
  width: 90%;        /* fallback for smaller screens */
}

}

@keyframes fadeInSummary {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}

.summary-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 14px;
  color: #ccc;
  font-size: 15px;
}

.summary-row strong {
  color: #ffffff;
}

.receive-amount {
  font-size: 20px;
  font-weight: bold;
  color:  #EFD87B;
  transition: color 0.3s;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { color:  #EFD87B; }
  50% { color: #FFFFC5; }
}

.button {
  margin-top: 30px;
   margin-left: 120px;
  background: linear-gradient(to right, #FFFFC5,  #EFD87B);
  padding: 16px;
  font-size: 18px;
  font-weight: bold;
  border: none;
  border-radius: 90px;
  color: #323232;
  width: 70%;
  cursor: pointer;
  transition: background 0.4s, transform 0.2s, box-shadow 0.3s;
  animation: glowPulse 3s ease-in-out infinite;
}

.button:hover {
  background: linear-gradient(to right,  #EFD87B,  #EFD87B);
  transform: translateY(-2px);
  box-shadow: 0 0 15px rgba(239, 216, 123,0.4);
}

.button:active {
  transform: scale(0.98);
}

@keyframes glowPulse {
  0%, 100% {
    box-shadow: 0 0 10px rgba(239, 216, 123,0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(239, 216, 123,0.6);
  }
}

.close-button {
  position: absolute;
  top: 18px;
  right: 18px;
  background: transparent;
  color: #ccc;
  font-size: 46px;
  border: none;
  cursor: pointer;
  z-index: 10;
  transition: color 0.3s, transform 0.3s;
  animation: fadeInClose1 0.6s ease-out;
}

@keyframes fadeInClose1 {
  from { opacity: 0; transform: rotate(-90deg) scale(0.5); }
  to { opacity: 1; transform: rotate(0deg) scale(1); }
}

.close-button:hover {
  color: #EFD87B;
  transform: scale(1.2);
  text-shadow: 0 0 10px rgba(239, 216, 123,0.5);
}

select {
  width: 100%;
  padding: 18px 16px 6px;
  border: 1px solid #2b2d36;
  background: var(--eerie-black-2);
  border-radius: 20px;
  color: #fff;
  font-size: 16px;
  appearance: none;
  background-image: url("data:image/svg+xml;utf8,<svg fill='white' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
  background-repeat: no-repeat;
  background-position: right 16px center;
  background-size: 16px;
  transition: border-color 0.3s, background-color 0.3s, box-shadow 0.3s;
}

select:focus {
  border-color:  #EFD87B;
  background-color: var(--eerie-black-2);
  box-shadow: 0 0 10px rgba(239, 216, 123,0.3);
  outline: none;
}

option {
  background: #1d1f27;
  color: #fff;
  padding: 12px;
  font-size: 16px;
  border-radius: 80px;
}

.logo {
  color: var(--white);
  font-size: 1.75rem;
  font-weight: var(--fw-700);
  display: flex;
  align-items: center;
  text-decoration: none;
  color: inherit; 
  gap: 5px;
}

.logo a {
  text-decoration: none;
  color: inherit;
}


  </style>
</head>
<body>
   <iframe src="index.html" class="background-iframe"></iframe>
  <div class="overlay"></div>
  <div class="container">
    <!-- Close Button -->
    <button class="close-button" onclick="window.history.back();">×</button>

 <a href="#" class="logo">
        <img src="./assets/images/logo.svg" width="62" height="62" alt="logo">
        Lezardi
      </a>

    <h2>Buy Crypto</h2>
    <p>Select your purchase details below</p>

    <div class="section">
      <div class="box">
        <div class="label">From (Fiat)</div>
        <select>
          <option selected>PayPal Balance (USD)</option>
                    <option>CashApp Balance (USD)</option>
        </select>
      </div>

     <div class="box">
  <div class="label">To (Crypto)</div>
  <div class="value">
    <img id="cryptoLogo" src="./assets/images/coin-5.svg" alt="Crypto Logo" />
    <select id="cryptoSelect">
      <option value="bitcoin">Bitcoin (BTC)</option>
      <option value="ethereum">Ethereum (ETH)</option>
      <option value="solana" selected>Solana (SOL)</option>
      <option value="tether">Tether (USDT)</option>
      <option value="binancecoin">BNB</option>
      <option value="avalanche-2">Avalanche (AVAX)</option>
      <option value="ripple">XRP</option>
      <option value="cardano">Cardano (ADA)</option>
    </select>
  </div>
</div>


    <div class="input-group">
      <div class="label">Amount in USD</div>
      <input id="usdInput" type="number" value="0" min="0" step="1"/>
      <small style="color: #888;">You will spend this from PayPal</small>
    </div>

    <div class="input-group">
      <div class="label">Your Wallet Address</div>
      <input type="text" placeholder="Enter your wallet address" />
      <small style="color: #888;">‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎  ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ </small>
    </div>

    <div class="exchange-summary">
      <div class="summary-row">
        <span>Exchange Rate</span>
        <span id="exchangeRateText">1 SOL = 155.00 USD</span>
      </div>
      <div class="summary-row">
        <span>Network Fee</span>
        <span>0.0003</span>
      </div>
      <div class="summary-row">
        <span>Commission</span>
        <span>1.5%</span>
      </div>
      <div class="summary-row">
        <strong>You’ll Receive</strong>
        <span id="solOutput" class="receive-amount">0.0000 SOL</span>
      </div>
    </div>

    <button class="button">Continue to Purchase</button>
  </div>

<script>
const usdInput = document.getElementById("usdInput");
const solOutput = document.getElementById("solOutput");
const cryptoSelect = document.getElementById("cryptoSelect");
const cryptoLogo = document.getElementById("cryptoLogo");
const exchangeRateText = document.getElementById("exchangeRateText");

const COMMISSION = 0.015;
const NETWORK_FEE = 0.0003;

const cryptoMap = {
  bitcoin: { id: "bitcoin", symbol: "BTC", logo: "./assets/images/coin-1.svg" },
  ethereum: { id: "ethereum", symbol: "ETH", logo: "./assets/images/coin-2.svg" },
  solana: { id: "solana", symbol: "SOL", logo: "./assets/images/coin-5.svg" },
  tether: { id: "tether", symbol: "USDT", logo: "./assets/images/coin-3.svg" },
  binancecoin: { id: "binancecoin", symbol: "BNB", logo: "./assets/images/coin-4.svg" },
  "avalanche-2": { id: "avalanche-2", symbol: "AVAX", logo: "./assets/images/coin-8.svg" },
  ripple: { id: "ripple", symbol: "XRP", logo: "./assets/images/coin-6.svg" },
  cardano: { id: "cardano", symbol: "ADA", logo: "./assets/images/coin-7.svg" },
};

function animateNumber(element, start, end, symbol = "", duration = 500) {
  let startTime = null;
  function step(timestamp) {
    if (!startTime) startTime = timestamp;
    const progress = Math.min((timestamp - startTime) / duration, 1);
    const current = start + (end - start) * progress;
    element.textContent = current.toFixed(4) + " " + symbol;
    if (progress < 1) {
      requestAnimationFrame(step);
    }
  }
  requestAnimationFrame(step);
}

async function updateConversion() {
  const usd = parseFloat(usdInput.value);
  const selectedKey = cryptoSelect.value;
  const crypto = cryptoMap[selectedKey];

  if (!crypto || isNaN(usd) || usd <= 0) {
    solOutput.textContent = "0.0000";
    return;
  }

  try {
    const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${crypto.id}&vs_currencies=usd`);
    const data = await res.json();
    const rate = data[crypto.id].usd;

    let amount = usd / rate;
    amount -= amount * COMMISSION;
    amount -= NETWORK_FEE;

    const current = parseFloat(solOutput.textContent) || 0;
    animateNumber(solOutput, current, amount, crypto.symbol);

    exchangeRateText.textContent = `1 ${crypto.symbol} = ${rate.toFixed(2)} USD`;
  } catch (err) {
    console.error("Error fetching price:", err);
    solOutput.textContent = "0.0000";
    exchangeRateText.textContent = "Failed to load exchange rate.";
  }
}

cryptoSelect.addEventListener("change", () => {
  const selectedKey = cryptoSelect.value;
  const crypto = cryptoMap[selectedKey];
  if (crypto) {
    cryptoLogo.src = crypto.logo;
  }
  updateConversion();
});

usdInput.addEventListener("input", updateConversion);

// Initial call
updateConversion();

function selectCoinFromURLHash() {
  const hash = window.location.hash.toLowerCase().replace("#", ""); // e.g., "btc"

  const symbolToKey = Object.entries(cryptoMap).reduce((acc, [key, { symbol }]) => {
    acc[symbol.toLowerCase()] = key;
    return acc;
  }, {});

  const matchedKey = symbolToKey[hash];

  if (matchedKey && cryptoSelect.querySelector(`option[value="${matchedKey}"]`)) {
    cryptoSelect.value = matchedKey;
    cryptoLogo.src = cryptoMap[matchedKey].logo;
    updateConversion();
  }
}

// Call on load
selectCoinFromURLHash();

</script>

</body>
</html>
